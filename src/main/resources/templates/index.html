<html xmlns:th="http://www.thymeleaf.org">
<head>
<head th:replace="layout/plantilla :: head"></head>
</head>
<body class="fix-header card-no-border fix-sidebar">
	<div id="main-wrapper">
		<header th:replace="layout/plantilla :: header"></header>
		<aside th:replace="layout/plantilla :: sidebar"></aside>
		<div class="page-wrapper">
			<div class="container-fluid">
				<div class="row page-titles">
					<div class="col-md-5 align-self-center">
						<h3 class="text-themecolor">Dashboard General</h3>
					</div>
					<div class="col-md-7 align-self-center">
						<ol class="breadcrumb">
							<li class="breadcrumb-item"><a href="javascript:void(0)">Home</a>
							</li>
							<li class="breadcrumb-item">Dashboard General</li>
							<li class="breadcrumb-item active">Dashboard General</li>
						</ol>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-3">
						<div class="card">
							<div class="card-body">
								<div class="d-flex no-block">
									<div class="m-r-20 align-self-center">
										<span class="lstick m-r-20"></span><img src="img/favicon.ico"
											alt="Income">
									</div>
									<div class="align-self-center">
										<h6 class="text-muted m-t-10 m-b-0">Total de Produccion</h6>
										<h2 class="m-t-0" id="cont1"></h2>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-12">
						<div class="card">
							<div class="card-body">
								<div class="form-row">
									<div class="col-md-6">
										<canvas id="myChart"></canvas>
									</div>
									<div class="col-md-6">
										<canvas id="myChart1"></canvas>
									</div>
									<div id="cont2"></div>
									<div id="cont3"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<section th:replace="layout/plantilla :: query"></section>
	<script>
		var ctx = document.getElementById('myChart');
		var cantidad = new Array();
		var mes = new Array();
		$.getJSON('http://localhost:8080/leche/mesAndCantidad', function(data) {
			$.each(data, function(key, val) {
				cantidad.push(val.cantidad);
				mes.push(val.mes);
			})
		});
		var myChart = new Chart(ctx, {
			type : 'horizontalBar',
			data : {
				labels : mes,
				datasets : [ {
					label : 'Produccion de leche',
					data : cantidad,
					backgroundColor : [ 'rgba(255, 99, 132, 0.2)',
							'rgba(54, 162, 235, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(75, 192, 192, 0.2)',
							'rgba(153, 102, 255, 0.2)',
							'rgba(255, 159, 64, 0.2)' ],
					borderColor : [ 'rgba(255, 99, 132, 1)',
							'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)',
							'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)',
							'rgba(255, 159, 64, 1)' ],
					borderWidth : 1
				} ]
			},
			options : {
				scales : {
					yAxes : [ {
						ticks : {
							beginAtZero : true
						}
					} ]
				}
			}
		});
	</script>
	<script>
		$(document).ready(function() {
			var total = new Array();
			$.getJSON('http://localhost:8080/leche/total', function(data) {
				$.each(data, function(key, val) {
					total.push(val.total);
					document.getElementById('cont1').innerHTML = total;
				})
			});
		});
	</script>
</body>
</html>














